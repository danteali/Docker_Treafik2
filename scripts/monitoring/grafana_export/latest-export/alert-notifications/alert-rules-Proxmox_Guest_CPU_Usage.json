{"id":12,"uid":"e07aeb67-e3b2-44c9-b9e3-eaa8e0e8fc69","orgID":1,"folderUID":"d481dc8c-ce5f-4f68-bf17-8a477126c749","ruleGroup":"Evaluated every 5 min","title":"Proxmox Guest CPU Usage","condition":"C","data":[{"refId":"A","queryType":"","relativeTimeRange":{"from":300,"to":0},"datasourceUid":"P4169E866C3094E38","model":{"datasource":{"type":"prometheus","uid":"P4169E866C3094E38"},"editorMode":"code","expr":"((pve_cpu_usage_ratio / pve_cpu_usage_limit) * on(id, instance) group_left(name, type) pve_guest_info) and on(id, instance) pve_up == 1","format":"time_series","instant":true,"interval":"","intervalFactor":4,"intervalMs":15000,"legendFormat":"{{name}} ({{type}})","maxDataPoints":43200,"range":false,"refId":"A"}},{"refId":"B","queryType":"","relativeTimeRange":{"from":300,"to":0},"datasourceUid":"__expr__","model":{"conditions":[{"evaluator":{"params":[],"type":"gt"},"operator":{"type":"and"},"query":{"params":["B"]},"reducer":{"params":[],"type":"last"},"type":"query"}],"datasource":{"type":"__expr__","uid":"__expr__"},"expression":"A","intervalMs":1000,"maxDataPoints":43200,"reducer":"last","refId":"B","type":"reduce"}},{"refId":"C","queryType":"","relativeTimeRange":{"from":300,"to":0},"datasourceUid":"__expr__","model":{"conditions":[{"evaluator":{"params":[1],"type":"gt"},"operator":{"type":"and"},"query":{"params":["C"]},"reducer":{"params":[],"type":"last"},"type":"query"}],"datasource":{"type":"__expr__","uid":"__expr__"},"expression":"B","intervalMs":1000,"maxDataPoints":43200,"refId":"C","type":"threshold"}}],"updated":"2025-09-27T17:30:27Z","noDataState":"OK","execErrState":"OK","for":"5m","annotations":{"__dashboardUid__":"b88c0ae7-ec18-4bda-8314-05a487f44508","__panelId__":"2","description":"Proxmox guest CPU usage is high - review guest resources and adjust allocated core count if required.\n• Host: {{ $labels.host_system }}\n• ID: {{ $labels.id }}\n• Name: {{ $labels.name }}","summary":"Proxmox guest CPU usage critical - {{ $labels.name }} ({{ $labels.id }}) on {{ $labels.host_system }}"},"isPaused":false,"notification_settings":null,"record":null}