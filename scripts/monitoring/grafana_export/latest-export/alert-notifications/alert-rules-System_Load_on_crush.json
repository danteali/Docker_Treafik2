{"id":16,"uid":"b26ae16a-9ee2-4d2e-a91a-a401da17011b","orgID":1,"folderUID":"d481dc8c-ce5f-4f68-bf17-8a477126c749","ruleGroup":"Evaluated every 1 min","title":"System Load on crush","condition":"LoadPerCoreThreshold","data":[{"refId":"Load","queryType":"","relativeTimeRange":{"from":600,"to":0},"datasourceUid":"P4169E866C3094E38","model":{"datasource":{"type":"prometheus","uid":"P4169E866C3094E38"},"editorMode":"code","expr":"avg_over_time(node_load1{host_system=\"crush\"}[$__rate_interval]) * 100 / on(instance) group_left sum by (instance)(irate(node_cpu_seconds_total{host_system=\"crush\"}[$__rate_interval]))","instant":true,"intervalMs":1000,"legendFormat":"__auto","maxDataPoints":43200,"range":false,"refId":"Load"}},{"refId":"Cores","queryType":"","relativeTimeRange":{"from":600,"to":0},"datasourceUid":"P4169E866C3094E38","model":{"datasource":{"type":"prometheus","uid":"P4169E866C3094E38"},"editorMode":"code","expr":"count(count(node_cpu_seconds_total{host_system=\"crush\"}) by (cpu))","instant":true,"intervalMs":1000,"legendFormat":"__auto","maxDataPoints":43200,"range":false,"refId":"Cores"}},{"refId":"RawLoadThreshold","queryType":"","relativeTimeRange":{"from":600,"to":0},"datasourceUid":"__expr__","model":{"conditions":[{"evaluator":{"params":[110],"type":"gt"},"operator":{"type":"and"},"query":{"params":["E"]},"reducer":{"params":[],"type":"last"},"type":"query"}],"datasource":{"type":"__expr__","uid":"__expr__"},"expression":"Load","intervalMs":1000,"maxDataPoints":43200,"refId":"RawLoadThreshold","type":"threshold"}},{"refId":"LoadPerCore","queryType":"","relativeTimeRange":{"from":0,"to":0},"datasourceUid":"__expr__","model":{"conditions":[{"evaluator":{"params":[0,0],"type":"gt"},"operator":{"type":"and"},"query":{"params":[]},"reducer":{"params":[],"type":"avg"},"type":"query"}],"datasource":{"name":"Expression","type":"__expr__","uid":"__expr__"},"expression":"$Load / $Cores","intervalMs":1000,"maxDataPoints":43200,"refId":"LoadPerCore","type":"math"}},{"refId":"LoadPerCoreThreshold","queryType":"","relativeTimeRange":{"from":0,"to":0},"datasourceUid":"__expr__","model":{"conditions":[{"evaluator":{"params":[75,0],"type":"gt"},"operator":{"type":"and"},"query":{"params":[]},"reducer":{"params":[],"type":"avg"},"type":"query"}],"datasource":{"name":"Expression","type":"__expr__","uid":"__expr__"},"expression":"LoadPerCore","intervalMs":1000,"maxDataPoints":43200,"refId":"LoadPerCoreThreshold","type":"threshold"}}],"updated":"2025-09-27T02:29:25Z","noDataState":"Alerting","execErrState":"OK","for":"3m","annotations":{"__dashboardUid__":"a13b0560-dd0c-4620-a56b-d0d4ffdcd963","__panelId__":"324","description":"System load exceeds defined threshold.","summary":"System Load on crush exceeds threshold."},"labels":{"webhook-nodered":"true"},"isPaused":false,"notification_settings":null,"record":null}